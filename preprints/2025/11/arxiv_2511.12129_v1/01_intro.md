---
authors:
- Hongyang Yang
- Xiao-Yang Liu
- Qingwei Wu
doc_id: arxiv:2511.12129v1
family_id: arxiv:2511.12129
is_current: true
taxonomy:
  alpha_families: []
  asset_classes: []
  horizons: []
  themes: []
title: A Practical Machine Learning Approach for Dynamic Stock Recommendation
url_abs: http://arxiv.org/abs/2511.12129v1
url_html: https://arxiv.org/html/2511.12129v1
venue: arXiv q-fin
version: 1
year: 2025
---


Hongyang Yang1, Xiao-Yang Liu2, Qingwei Wu2
  
1AI4Finance Foundation
  
2Dept. of Electrical Engineering, Columbia University
  
Email: contact@ai4finance.org
The AI4Finance Foundation (https://ai4finance.org) is a U.S.-registered 501(c)(3) nonprofit public charity focused on promoting open scientific research in financial AI, building open-source infrastructure, and supporting a global community of researchers through shared datasets, benchmarks, and educational programs.

###### Abstract

Stock recommendation is vital to investment companies and investors. However, no single stock selection strategy will always win while analysts may not have enough time to check all S&P 500 stocks (the Standard & Poor’s 500). In this paper, we propose a practical scheme that recommends stocks from S&P 500 using machine learning. Our basic idea is to buy and hold the top 20% stocks dynamically. First, we select representative stock indicators with good explanatory power. Secondly, we take five frequently used machine learning methods, including linear regression, ridge regression, stepwise regression, random forest and generalized boosted regression, to model stock indicators and quarterly log-return in a rolling window. Thirdly, we choose the model with the lowest Mean Square Error in each period to rank stocks. Finally, we test the selected stocks by conducting portfolio allocation methods such as equally weighted, mean-variance, and minimum-variance. Our empirical results show that the proposed scheme outperforms the long-only strategy on the S&P 500 index in terms of Sharpe ratio and cumulative returns. This work is fully open-sourced at [GitHub](https://github.com/AI4Finance-Foundation/Dynamic-Stock-Recommendation-Machine_Learning-Published-Paper-IEEE).

## I Introduction

Earning reports play a key role in stock recommendation. Analysts use company earning reports to do stock buy-and-sell recommendation. Future earnings estimates are important factors to value a firm. Earnings forecasts are based on analysts’ estimation of company growth and profitability. To predict earnings, most analysts build financial models that estimate prospective revenues and costs. However, it could be very difficult for analysts to accurately estimate earnings. Many researchers are trying to build a robust model to predict earnings. For example, earnings generated by the cross-sectional model are considered superior to analysts’ forecasts to estimate the implied costs of capital (ICC), which play a key role in firm valuation [ICC2011]. Moreover, regression-based models [luzhang2014] can be used to predict scaled and un-scaled net income [regression2013]. Numerous recent papers consider using deep learning algorithms to model stock market data [deeplearning1]. Deep neural networks models also can be trained to predict future fundamentals such as book-to-market ratio, and as a result, investors can use predicted fundamentals to rank current stocks [deeplearning4].

There are two traditional approaches. The first approach is selecting stocks based on a preset criteria such as price to earnings (P/E) ratio [PE2012]. Stocks are ranked by P/E ratios using historical data. Then, a portfolio will contain stocks with lowest P/E ratios. This approach is unsatisfactory in practical situations since the selection with P/E ratio only is unstable (e.g., selecting top quantile stocks may result in a less predictive power.) The second approach jointly uses several criterion to rank stocks, such as P/E ratio, price to sales (P/S) ratio, price/earnings to growth (PEG) ratio, etc. However, this approach does not take the correlations among different predictor factors into consideration. Consequently, weights of these factors are assigned relatively subjective, which increases the risk.

Value investing has been widely used today by investors and portfolio managers. Graham first comes up with the concept of an “intrinsic” value for a stock that is independent of the market [Graham1988]. He emphasizes the importance of an intrinsic value that is reflected by a company’s market size, assets level, dividends, financial strength, earnings stability,
earnings growth. Focusing on this value, he believes would prevent an investor from misjudgment and misinterpretation during a bull or bear market. In the long run, we expect stock prices should eventually be regression towards the company’s intrinsic value. Many fundamental financial ratios such as P/E ratio, earnings per share (EPS), return on equity (ROE), profit margin and quick ratio indicate overall profitability, stability, operating efficiency, capital structure, ability of generating future cash flows and other valuable information of the corresponding companies. Thus, these financial ratios could reflect a company’s intrinsic value and should have predictive power on the future performance [value1996]. Additionally, financial ratios provide normalization so that all companies would have the same scale of data and thus, those with large capital will have equal influence.

In this paper, we propose a novel scheme that predict stock’s future price return based on earnings factors by machine learning. We use five machine learning algorithms (linear regression, random forest, ridge, stepwise regression, and generalized boosting regression) to assign weights to each factor dynamically, and select top 20%20\% stocks each quarter based on the ranking of predicted returns generated by the best performing algorithm over the past training periods before each re-balancing day on a rolling basis. The five models also have high explanatory power. By using the lowest MSE to choose the best model, we provide reliability to business decision, thus increase the security to financial investments. After we select stocks for our portfolio on each re-balancing day, we test asset allocation methodologies: mean-variance, min-variance, and equally-weighted allocation on selected stocks using in sample data (1990-2007). Risk management is involved by the method of maximum Sharpe ratio used in portfolio allocation methodologies. We are aiming to balance the expected return and the standard deviation of the portfolio to achieve the best risk to reward. Finally, we compare the P&L of our strategy with S&P 500 index 111The Standard & Poor’s 500 is an American stock market index based on the market capitalizations of 500 large companies having common stock listed on the NYSE or NASDAQ., all three portfolio allocation methods outperform the market, summarize the competency of our strategy.

This paper proceeds as follows. Section II describes the rolling window, trading time, the data, and also presents the methodology and implementation of our scheme. Section III contains the portfolio allocation methods, risk management and transaction cost. Section IV presents the performance and Section V concludes the paper.

## II Proposed Stock Recommendation Scheme

### II-A Rolling Window Based Data Separation

Rolling windows can be employed to divide data for multiple purposes (i.e., training and testing). Rolling windows for training ranges from 16-quarter (4-year) to a maximum of 40-quarter (10-year). This training rolling window is followed by an one-year window for testing and we trade according to the test results. The training-testing-trading cycle of our strategy can be summarized by Fig. 1. We also extend the trade date by two months lag beyond the standard quarter end date in case some companies have a non-standard quarter end date, e.g. Apple released its earnings report on 2010/07/20 for the second quarter of year 2010. Thus for the quarter between 04/01 and 06/30, our trade date is adjusted to 09/01 (same method for other three quarters).

![Refer to caption](x1.png)


Figure 1: Rolling Window Based Data Seperation: Training rolling window is followed by a testing rolling window. There is a two-month delay after the end of the training rolling window.

### II-B Data Preprocessing

The data for this project is mainly taken from Compustat database accessed through Wharton Research Data Services (WRDS) [wrds1]. The dataset used here consists of the data over the period of 27 years (from 06/01/1990 to 06/01/2017). We use all historical S&P 500 component stocks (about 1142 stocks) as the S&P 500 pool are updated quarterly. The adjusted close price goes on a daily basis (trading days) and generates 6,438,964 observations. The fundamental data goes on a quarterly basis and generates 91,216 observations. In addition, we delete outlier records that indicate a release date (rdq) after the trade date, which include about 0.84% of the dataset. We assure that on our trade date, 99% of the companies have their earnings reports ready to be used. In order to preserve an out-of-sample period sufficiently long for back-testing the relationship, the dataset has been divided into three periods in Fig. 2.

![Refer to caption](x2.png)


Figure 2: Dataset Division

To build the dataset for training, we select top twenty most popular financial ratios in table I [luzhang2014] and calculated these factors from the fundamental raw data from the WRDS. Also, in order to build a sector-neutral portfolio, we split the dataset by the Global Industry Classification Standard (GICS) sectors. We handle missing data separately by sector: if one factor has more than 5% missing data, we delete this factor; if a certain stock generates the most missing data, we delete this stock. In this way, we’ve removed 46 stocks and the overall missing data is reduced to less than 7% of each sector. Finally, we delete this 7% missing data.

TABLE I: 2020 Financial Indicators

| Revenue Growth | Price to cash flow ratio |
| --- | --- |
| Earnings per share (EPS) | Cash ratio |
| Return on asset (ROA) | Enterprise multiple |
| Return on equity (ROE) | Enterprise value/cash flow from operations |
| Price to earnings (P/E) ratio | Long term debt to total assets |
| Price to sales (P/S) ratio | Working capital ratio |
| Net profit margin | Debt to equity ratio |
| Gross profit margin | Quick ratio |
| Operating margin | Days sales of inventory |
| Price to book (P/B) ratio | Days payable of outstanding |

### II-C Methodology

Our goal is to predict S&P 500 forward quarter log-return rT+fq​t​rr^{qtr}\_{T+f} given predictors XTX\_{T} constructed from historical data of the twenty financial factors over a particular quarter TT and S&P 500 horizon ff. At a given time TT of the financial horizon, the 1-quarter forward log-returns of a certain stock price SS are defined as:

|  |  |  |  |
| --- | --- | --- | --- |
|  | rT+f,iq​t​r=ln⁡(ST+f,i/ST,i),i=1,…,nT,r^{qtr}\_{T+f,i}=\ln(S\_{T+f,i}/S\_{T,i}),\qquad i=1,...,n\_{T}, |  | (1) |

where nTn\_{T} is the companies whose stock price and earnings factors are available at time T.

A general estimator is the ordinary least square:

|  |  |  |  |
| --- | --- | --- | --- |
|  | rT+f,iq​t​r=β0+∑j=1pβj​XT,i,j+ϵ,j=1,…,20,r^{qtr}\_{T+f,i}=\beta\_{0}+\sum\_{j=1}^{p}\beta\_{j}X\_{T,i,j}+\epsilon,\qquad j=1,...,20, |  | (2) |

where jj is the number of the twenty financial ratios, pp is the total factors we used in the model, β0\beta\_{0} is the intercept of the model, XjX\_{j} corresponds to the jjth predictor variable of the model, βj\beta\_{j} is the coefficients of the predictor variable and ϵ\epsilon is the random error with expectation 0 and variance σ2\sigma^{2}. Moreover, regularized linear OLS estimators have a higher accuracy in many aspects [textbook1]. We need to use multiple regression estimators to increase accuracy. [regression2013] has summarized the prediction rule and estimator selection rule for using multiple estimators:

|  |  |  |  |
| --- | --- | --- | --- |
|  | rT+f,iq​t​r|XT,i,j,θ,i=1,…​nT,j=1,…,20,r^{qtr}\_{T+f,i}|X\_{T,i,j},\theta,\qquad i=1,...n\_{T},\ j=1,...,20, |  | (3) |

|  |  |  |  |
| --- | --- | --- | --- |
|  | rt+f,iq​t​r=gθ​(Xt,i,j)+ϵ,t=T,…,T−h,i=1,…,nt,r^{qtr}\_{t+f,i}=g\_{\theta}(X\_{t,i,j})+\epsilon,\quad t=T,...,T-h,\ i=1,...,n\_{t}, |  | (4) |

where hh is the historical estimation period, gθ​(Xt,i,j)g\_{\theta}(X\_{t,i,j}) is used to estimate θ\theta through historical regressions. It is noticeable to point out that (2) is the basic estimator of (4).

We pick five models for gθg\_{\theta}: linear regression, forward and backward stepwise regression under Akaike information criterion (AIC), regularized linear OLS estimator ridge regression, tree based nonlinear model random forest and generalized boosted regression model (GBM) using gaussian distribution which implements AdaBoost algorithm and Friedman’s gradient boosting machine. All of the algorithms are facilitated by standard R packages [r2011]. For linear regression and stepwise regression we use l​mlm and s​t​e​pstep and for ridge we use g​l​m​n​e​tglmnet and *MASS* [textbook2, leastsquare1]. For random forest we use r​a​n​d​o​m​F​o​r​e​s​trandomForest [randomforest2002]. For gbm we use g​b​mgbm [gbm2007]. The reason of using these five models is that we need feature selection methods to remove undesirable features, thus reducing the overfitting issues, improving model accuracy and expediting the training procedure. We also have a white-box model that we can observe every single factor with its coefficients in our model.

Mean Squared Error (MSE) [regression2013] is used as the metric for our evaluation.

### II-D Implementation

Our implementation can be summarized as the following four steps:

Step 1. Train and test the model to get the MSE for each of the five models. Our current methodology basically selects the minimum MSE. We assign 11 to the selected model and 0 to other models.

Step 2. Choose the model that has the lowest MSE in that certain period. For example, in Table II, we choose Ridge regression as our model to select stocks on Jun. 1st, 1995. We choose Random Forest as our model to select stocks on Sept. 1st, 1995.

TABLE II: Model Error and Selected Model for Sector 10, Energy

| trading date | MSE linear | MSE RF | MSE ridge | MSE step | MSE gbm |
| --- | --- | --- | --- | --- | --- |
| 19950601 | 0.022380.02238 | 0.021800.02180 | 0.021610.02161 | 0.022050.02205 | 0.024430.02443 |
| 19950901 | 0.019080.01908 | 0.018280.01828 | 0.018700.01870 | 0.018410.01841 | 0.020980.02098 |
| 19951201 | 0.018520.01852 | 0.016410.01641 | 0.018200.01820 | 0.018550.01855 | 0.019960.01996 |
| 19960301 | 0.020400.02040 | 0.018220.01822 | 0.019810.01981 | 0.018790.01879 | 0.021920.02192 |
| 19960603 | 0.024420.02442 | 0.018850.01885 | 0.023940.02394 | 0.023400.02340 | 0.022100.02210 |

Step 3. Use the predicted return in the selected model to pick up top 20% stocks from each sector. We predict next quarter return (predicted y) using current information (test Xs) based on the trained model.

In this example, in Table III we use ridge predicted return to pick stocks for the trade period 1995/06/01, the selected top 20% stocks are: WMB, OKE, RRC, PXD, VLO, EQT, HES, BHI, MUR, and NE. We then trade these stocks during the period between 1995/06/01 and 1995/09/01. In the second trade period of 1995/09/01, in Table IV we use random forest to pick the stocks, the top 20% stocks are: CHK, SFS.1, WMB, RRC, VLO, BJS.1, MDR, PZE.1, HP, and CVX. We then trade these stocks from 1995/09/01 to 1995/12/01. As for the stocks owned at previous quarters, such as WMB, RRC, and VLO, we just need to use the portfolio weights to adjust their shares.

TABLE III: Predicted Return on trade date: 1995/06/01 Sector 10, Energy

|  | Linear return | RF return | Ridge return | Step return | GBM return |
| --- | --- | --- | --- | --- | --- |
| WMB | 10.42%10.42\% | 5.12%5.12\% | 9.24%9.24\% | 9.01%9.01\% | 3.51%3.51\% |
| OKE | 7.55%7.55\% | 4.12%4.12\% | 7.42%7.42\% | 8.53%8.53\% | 2.56%2.56\% |
| RRC | 4.16%4.16\% | 7.01%7.01\% | 3.74%3.74\% | 4.84%4.84\% | 1.83%1.83\% |
| PXD | 4.63%4.63\% | 0.96%0.96\% | 3.66%3.66\% | 3.91%3.91\% | 0.23%0.23\% |
| VLO | 3.48%3.48\% | 2.99%2.99\% | 3.47%3.47\% | 4.04%4.04\% | 2.56%2.56\% |
| EQT | 2.47%2.47\% | 4.78%4.78\% | 2.34%2.34\% | 2.36%2.36\% | 1.83%1.83\% |
| HES | 1.80%1.80\% | 4.30%4.30\% | 1.61%1.61\% | 1.81%1.81\% | 0.38%0.38\% |
| BHI | 1.33%1.33\% | −0.70%-0.70\% | 1.15%1.15\% | 1.99%1.99\% | −0.27%-0.27\% |
| MUR | 1.11%1.11\% | 1.07%1.07\% | 1.01%1.01\% | 0.49%0.49\% | 0.38%0.38\% |
| NE | 1.16%1.16\% | −6.33%-6.33\% | 0.94%0.94\% | 0.85%0.85\% | −2.21%-2.21\% |




TABLE IV: Predicted Return on trade date: 1995/09/01 Sector 10, Energy

|  | Linear return | RF return | Ridge return | Step return | GBM return |
| --- | --- | --- | --- | --- | --- |
| CHK | 0.97%0.97\% | 12.45%12.45\% | 2.17%2.17\% | 4.86%4.86\% | 0.03%0.03\% |
| SFS.1 | 4.69%4.69\% | 7.35%7.35\% | 4.27%4.27\% | 4.49%4.49\% | 0.78%0.78\% |
| WMB | 5.87%5.87\% | 6.37%6.37\% | 5.15%5.15\% | 5.46%5.46\% | 0.77%0.77\% |
| RRC | 1.78%1.78\% | 6.13%6.13\% | 1.52%1.52\% | 1.76%1.76\% | 0.09%0.09\% |
| VLO | 2.50%2.50\% | 4.83%4.83\% | 2.65%2.65\% | 3.01%3.01\% | 0.77%0.77\% |
| BJS.1 | 5.36%5.36\% | 4.23%4.23\% | 5.28%5.28\% | 6.38%6.38\% | −1.71%-1.71\% |
| MDR | 1.54%1.54\% | 3.96%3.96\% | 1.26%1.26\% | 1.14%1.14\% | 0.77%0.77\% |
| PZE.1 | 0.96%0.96\% | 3.78%3.78\% | 0.55%0.55\% | 0.78%0.78\% | −1.71%-1.71\% |
| HP | −1.63%-1.63\% | 3.50%3.50\% | −1.44%-1.44\% | −1.62%-1.62\% | 0.77%0.77\% |
| CVX | −0.73%-0.73\% | 3.19%3.19\% | −0.71%-0.71\% | −1.12%-1.12\% | 0.09%0.09\% |

Step 4. We check on the corresponding models’ features and its coefficients or importance level to ensure that there are no abnormal results. in Table V and VI, e.g. assign 0 to all features.

TABLE V: Ridge Coefficients: 1995/06/01

| Factor | Coefficient | Factor | Coefficient |
| --- | --- | --- | --- |
| ROA | 0.2056770.205677 | DPO | 0.0000040.000004 |
| GPM | 0.1168410.116841 | DSI | −0.000018-0.000018 |
| REVGH | 0.0813180.081318 | EM | −0.000405-0.000405 |
| (Intercept) | 0.0492370.049237 | WCR | −0.000422-0.000422 |
| NPM | 0.0156400.015640 | PS | −0.002042-0.002042 |
| CR | 0.0041230.004123 | PCFO | −0.003140-0.003140 |
| EPS | 0.0025620.002562 | LTDTA | −0.026227-0.026227 |
| QR | 0.0023220.002322 | PB | −0.032136-0.032136 |
| DE | 0.0006120.000612 | OM | −0.055619-0.055619 |
| EVCFO | 0.0000130.000013 | ROE | −0.078489-0.078489 |
| PE | 0.0000040.000004 |  |  |




TABLE VI: Random Forest Importance Table: 1995/09/01

| Factor | Importance | Factor | Importance |
| --- | --- | --- | --- |
| PB | 14.281814.2818 | PE | 5.64045.6404 |
| EPS | 9.05569.0556 | CR | 5.50805.5080 |
| ROE | 8.69298.6929 | ROA | 5.39725.3972 |
| PS | 8.49768.4976 | PCFO | 5.13135.1313 |
| WCR | 8.49048.4904 | EVCFO | 4.66724.6672 |
| EM | 7.38087.3808 | LTDTA | 4.64474.6447 |
| GPM | 7.20917.2091 | OM | 4.22494.2249 |
| QR | 7.13377.1337 | DE | 3.32963.3296 |
| DPO | 6.69176.6917 | DSI | 2.46212.4621 |
| NPM | 5.97435.9743 | REVGH | 0.16320.1632 |

We finish these steps for all eleven GICS sectors. Then we get a final table of all selected stocks with its tic name, predicted returns for next quarter, and the corresponding trading periods to conduct portfolio allocation.

## III Portfolio Allocation and Risk Management

Portfolio allocation is crucial to an investment strategy because its balance risk and return by modeling individual asset’s weights. Mean-variance and minimumu-variance are two typical methods for portfolio allocation. They perform diversification by constraining mean, volatility and correlation inputs to reduce sampling error [meanvariance2012]. In our portfolio we used mean-variance and min-variance to decide the weights of each stock, and then use equal-weighted portfolio as our benchmark. We perform these methods by Matlab Financial Toolbox-Portfolio Object [matlab2017].

### III-A Mean-Variance and Minimum-Variance Constraints

We first use mean-variance optimization to allocate the stocks we have picked. In. Fig. 3. the yellow star on the curve is the mean-variance result during our first trade time; the rest of the points are stocks plotted based on its predicted return and standard deviation. The result shows that our approach is legitimate.

We set the following constraints for mean-variance:

∙\bullet Expected return: predicted return of next quarter.

∙\bullet Covariance matrix: use 1 year historical daily return.

∙\bullet Long only: upper bound 5% and Lower bound 0%.

∙\bullet Fully invest our capital: sum of weights=100%.

∙\bullet Take no leverage: LowerBudget = UpperBudget = 1.

![Refer to caption](efficient1.jpg)


Figure 3: This figure shows the efficient frontier.

Then, we try the min-variance optimization approach to allocate the stocks we have picked. The criteria are almost the same as the mean-variance method except that we set the expected return to be 0.

### III-B Transaction Costs

Generally, fees for each trade are measured based on broker fees, exchange fees and SEC fees. In the real-world scenarios, a fund or trading firm might have different execution costs for many reasons. Despite these possible variations in cost, after going through several scenarios we consider our transaction cost to be 1/1000 of the value of that trade. We believe our fee assumption to be sufficient and reasonable for the study.

We use the following formula to calculate the transaction cost:

|  |  |  |  |
| --- | --- | --- | --- |
|  | ∑i=1n|St,i−St−1,i|⋅Pi×0.1%\sum\_{i=1}^{n}|S\_{t,i}-S\_{t-1,i}|\cdot P\_{i}\times 0.1\% |  | (5) |

where St,iS\_{t,i} is the shares we need to buy or sell share based on the portfolio weights at current time tt and St−1,iS\_{t-1,i} is the shares left at previous time t−1t-1. PiP\_{i} is the current stock price of stock ii.

### III-C Risk Management

After the procedure of building portfolio and structuring with appropriate functions, we equip decision rules that would be applied to risk management of each trade. Fundamentally, due to the nature of long-only strategy, the risk was controlled internally through our portfolio optimization methods. We minimize variance and maximum Sharpe ratio, have limits on position sizes (maximum of position size is 5% of portfolio value), and don’t take any leverage.

## IV Performance Evaluation

![Refer to caption](pnl1.jpg)


Figure 4: This figure shows the P&L.

![Refer to caption](chart9_TotalValue.png)


Figure 5: This figure shows Portfolio Value starts with 1 million.

In Fig. 4, the results show that our strategy outperforms the market. The following back-test figures including equally weighted portfolio, mean-variance portfolio and minimum-variance portfolio indicate better performance than that of the benchmark S&P 500 index. More importantly, all the statistics can show that the portfolio outperforms the S&P 500 index not only in the in-sample training period (before 2007) but also in the overall trade period in Table VIII. Our codes are available online [codes].

We conclude that our scheme for stock selections does generate a better result than the market portfolio does. If we only analyze the portfolio value performance from the figure, it is noticeable that the equally weighted portfolio, the benchmark, has higher value than min-variance and mean-variance portfolio. However, the portfolio value is not the only consideration when selecting the optimal portfolio. We have two reasons to conclude that the min-variance portfolio is a better method in the real trade period. First, the equally-weighted portfolio is not robust enough. We notice that the performance of this method fully depends on the predicted returns that we calculate from our model. The predicted returns will vary every time we run our model. Secondly, min-variance portfolio allocation takes the risk factor into consideration, making it more reliable in real trade. From the Table VII, we find that the min-variance allocation has a higher Sharpe ratio than that of the equally-weighted allocation during the in-sample period. We thus choose the min-variance as our portfolio allocation method.

TABLE VII: In sample data result: 1995-2007

|  | Mean-Var | Equally | Min-Var | S&P 500 |
| --- | --- | --- | --- | --- |
| Annualized Return | 13.17%13.17\% | 16.12%16.12\% | 13.29%13.29\% | 7.12%7.12\% |
| Annualized Std | 17.0%17.0\% | 16.4%16.4\% | 12.9%12.9\% | 13.8%13.8\% |
| Sharpe Ratio | 0.6870.687 | 0.8870.887 | 0.9170.917 | 0.4060.406 |




TABLE VIII: Overall Performance

| (Risk-Free: 1.5%) | Mean-Var | Equally | Min-Var | S&P 500 |
| --- | --- | --- | --- | --- |
| Start Value in million | 11 | 11 | 11 | 11 |
| End Value in million | 10.991710.9917 | 22.138322.1383 | 12.8149812.81498 | 1.9331531.933153 |
| Total Return | 999.17%999.17\% | 2113.83%2113.83\% | 1181.50%1181.50\% | 93.32%93.32\% |
| Maxiumum Drawdown | −56.89%-56.89\% | −57.63%-57.63\% | −46.30%-46.30\% | −66.73%-66.73\% |
| Annualized Return | 8.29%8.29\% | 10.77%10.77\% | 9.87%9.87\% | 5.22%5.22\% |
| Annualized Std | 23.6%23.6\% | 26.4%26.4\% | 18.1%18.1\% | 19.1%19.1\% |
| Sharpe Ratio | 0.2870.287 | 0.3510.351 | 0.4620.462 | 0.1950.195 |

## V Conclusion

Applying machine learning algorithms to the fundamental financial data can filter out stocks with a relative bad earnings, thus providing a better way to select stocks. Minimum-variance method, the 5 percent holding rule, no short and leverage rule provide risk management and diversification, reduce the portfolio risk and thus yield a higher Sharpe ratio. Compared to the benchmark, our trading strategy outperforms the S&P 500 index. More importantly, combined with our trading strategy, the portfolio allocation method is proven to improve the overall performance. Finally, the Sharpe ratios of the three portfolio methods indicate that our strategy also outperforms the market. Future work would be dealing with anomaly data [liu2017ls] in the data preprocessing stage, and applying accurate prediction schemes by modeling stock indicators as tensor time series [liu2017fourth] with sparsity in transform domains.